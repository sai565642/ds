#include <stdio.h>
#include <string.h>
# define MAX 100
// this utility function is to checkif element is present in set or not
int is_present(char arr[][30], int n, char name[])
{
    for (int i=0; i<n; i++)
    {
        if( strcmp(arr[i], name)==0)
        return 1;
    }
    return 0;
}

int setintersection(char a[][30], int n, char b[][30],int m, char c[][30])
{
  int countAandB=0;
  for(int i=0;i<n;i++)
  {
    if(is_present(b,m,a[i]))
    {
      strcpy(c[countAandB++],a[i]);
    }
  }
  return countAandB;
}

int setunion(char a[][30], int n, char b[][30],int m, char c[][30])
{
  int countAorB=0;
  for(int i=0;i<n;i++)
  {
    strcpy(c[countAorB++],a[i]);
  }
  for(int i=0;i<m;i++)
  {
    if(!is_present(a,n,b[i]))
    {
      strcpy(c[countAorB++],b[i]);
    }
  }
  return countAorB;
}

int setdifference(char a[][30], int n, char b[][30],int m, char c[][30])
{
  int setdiff=0;
  for(int i=0;i<n;i++)
  {
    if(!is_present(b,m,a[i]))
    {
      strcpy(c[setdiff++],a[i]);
    }
  }
  return setdiff;
}

void main() {
    int nall, nA, nB, nC, i;
    char allstudents[MAX][30];//list of all students
    char groupA[MAX][30]; // list of students to play harmonium
    char groupB[MAX][30];// list of students to play tabla
    char groupC[MAX][30];  // list of students to play guiter
    
    //accept name of students and store in a character array
    printf("\nEnter number of students in a class:");
    scanf("%d",&nall);
    printf("\nEnter names of all students below\n");
    for(int i=0;i<nall;i++)
    {
        printf("Enter here:");
        scanf("%s",allstudents[i]);
    }
    
    printf("\nEnter number of students who play harmonium:");
    scanf("%d",&nA);
    printf("\nEnter names of students who play harmonium only as follows\n");
    for(int i=0;i<nA;i++)
    {
        printf("Enter here:");
        scanf("%s",groupA[i]);
    }
    
    printf("\nEnter number of students who play tabla:");
    scanf("%d",&nB);
    printf("\nEnter names of students who play tabla only as follows\n");
    for(int i=0;i<nB;i++)
    {
        printf("Enter here:");
        scanf("%s",groupB[i]);
    }
    
    printf("\nEnter number of students who play guitar:");
    scanf("%d",&nC);
    printf("\nEnter names of students who play guitar only as follow\n");
    for(int i=0;i<nC;i++)
    {
        printf("Enter here:");
        scanf("%s",groupC[i]);
    }
    
    //display groups A,B,C
    printf("\nGroup A Harmonium :");
    for(int i=0;i<nA;i++)
    {
        printf("\n %s",groupA[i]);
    }
    printf("\n \nGroup B tabla :");
    for(int i=0;i<nB;i++)
    {
        printf("\n %s",groupB[i]);
    }
    printf("\n \nGroup C guitar :");
    for(int i=0;i<nC;i++)
    {
        printf("\n %s",groupC[i]);
    }
    
    
    //a.list of students who play both harmonium and tabla 
    //A intersection B
    char AintersectionB[MAX][30];
    int a=setintersection(groupA,nA,groupB,nB,AintersectionB);
    printf("\na.The students who play both harmonium and tabla:");
    for(int i=0;i<a;i++)
    {
      printf("%s \t",AintersectionB[i]);
    }
    printf("-------");
    
    //A union B
    char AunionB[MAX][30];
    int b=setunion(groupA,nA,groupB,nB,AunionB);
    printf("\nThe students who play harmonium or tabla:");
    for(int i=0;i<b;i++)
    {
      printf("%s \t",AunionB[i]);
    }
    
    //b. list of students who play either harmonium or tabla but not both
    //AunionB - AintersectionB
    char AdifferenceB[MAX][30];
    int c=setdifference(groupA,nA,groupB,nB,AdifferenceB);
    printf("\nb.The Students who play either harmonium or tabla but not both:");
    for(int i=0;i<c;i++)
    {
      printf("%s \t",AdifferenceB[i]);
    }
    
    //c.list of students who play neither harmonium nor tabla
    //all - AunionB
    char AneitherB[MAX][30];
    int d=setdifference(allstudents,nall,AunionB,b,AneitherB);
    printf("\nc.The students who play neither harmonium nor tabla:");
    for(int i=0;i<d;i++)
    {
     printf("%s \t",AneitherB[i]);
    }
    
    //d.List of students who play harmonium and guitar but not tabla
    //AintersectionC - B
    char AintersectionC[MAX][30];
    int e=setintersection(groupA,nA,groupC,nC,AintersectionC);
    printf("\na.The students who play both harmonium and guitar:");
    for(int i=0;i<e;i++)
    {
      printf("%s \t",AintersectionC[i]);
    }
    
    char ACneitherB[MAX][30];
    int f=setdifference(AintersectionC,e,groupB,nB,ACneitherB);
    printf("\nd.The students who play harmonium and guitar but not tabla:");
    for(int i=0;i<f;i++)
    {
      printf("%s \t",ACneitherB[i]);
    }
}
    
    
    

